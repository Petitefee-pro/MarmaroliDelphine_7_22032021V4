{"remainingRequest":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\src\\views\\ForumTexte.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\src\\views\\ForumTexte.vue","mtime":1617630110791},{"path":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnDQpleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZTogJ2ZvcnVtJywNCiAgICBkYXRhKCl7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBwc2V1ZG86JycsDQogICAgICAgICAgICBpbmZvOiBudWxsLA0KICAgICAgICAgICAgbG9hZGluZzogdHJ1ZSwNCiAgICAgICAgICAgIGVycm9yZWQ6IGZhbHNlICAgICAgICAgICAgDQogICAgICAgIH0NCiAgICB9LA0KICAgIG1ldGhvZHM6eyAgICAgICAgDQogICAgICAgIHN1Ym1pdEZvcm1Gb3J1bTogZnVuY3Rpb24gKCl7DQogICAgICAgICAgICBsZXQgcHNldWRvID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3BzZXVkbycpOw0KICAgICAgICAgICAgbGV0IHBvc3QgPSB0aGlzLnBvc3Q7DQogICAgICAgICAgICBsZXQgcmVnZXhQb3N0ID0gL1tBLVphLXpcc1wtw6nDtsOgw6TDqMO8w6HDusOzw6rDu8Ouw7TDoiddezIsMTUwMH0vZzsNCiAgICAgICAgICAgIGlmKChyZWdleFBvc3QudGVzdChwb3N0KSA9PT0gdHJ1ZSkNCiAgICAgICAgICAgICl7DQogICAgICAgICAgICAgICAgbGV0IG1lc3NhZ2UgPSB7DQogICAgICAgICAgICAgICAgICAgIHBzZXVkbzogcHNldWRvLA0KICAgICAgICAgICAgICAgICAgICBwb3N0OiBwb3N0DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGVudm9pID0gew0KICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywNCiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJw0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG1lc3NhZ2UgfSksDQogICAgICAgICAgICAgICAgICAgIG1vZGU6ICdjb3JzJywNCiAgICAgICAgICAgICAgICAgICAgY2FjaGU6ICdkZWZhdWx0Jw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVudm9pKTsNCiAgICAgICAgICAgIGZldGNoKCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2ZvcnVtIiwgZW52b2kpDQogICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOw0KICAgICAgICAgICAgICAgIC8qbG9jYXRpb24ucmVwbGFjZSgnaHR0cDovL2xvY2FsaG9zdDo4MDgwL2ZvcnVtLXRleHRlJykqLw0KICAgICAgICAgICAgfSkgICAgICAgICAgICANCiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiBhbGVydCgiRXJyZXVyIDogIiArIGVycm9yKSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGdldFBvc3RzKCl7DQogICAgICAgICAgICBheGlvcw0KICAgICAgICAgICAgICAgIC5nZXQgKCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2ZvcnVtLyIpDQogICAgICAgICAgICAgICAgLnRoZW4oIHJlc3BvbnNlID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmZvID0gcmVzcG9uc2UuZGF0YS5mb3J1bQ0KICAgICAgICAgICAgICAgIH0pICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yZWQgPSB0cnVlDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAuZmluYWxseSgoKSA9PiB0aGlzLmxvYWdpbmcgPSBmYWxzZSkNCiAgICAgICAgfSAgICAgICAgDQogICAgfQ0KfQ0K"},{"version":3,"sources":["C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\src\\views\\ForumTexte.vue"],"names":[],"mappings":"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","file":"C:/Users/Delphine-Boulot/Documents/Formation WD/Projet 7 OpenClassrooms/Groupomania/frontend/src/views/ForumTexte.vue","sourceRoot":"","sourcesContent":["<template>\r\n   <div class=\"form-row flex-column justify-content-center m-0 p-0\">  \r\n        <ul class=\"nav nav-fill\">\r\n            <li class=\"nav-item h-50 bg-secondary\">\r\n                <router-link class=\"nav-link pl-4 p-1 col-1 text-white font-weight-bold\" to=\"/forum\">\r\n                    <i class=\"fas fa-angle-left\"></i>\r\n                </router-link>\r\n            </li>   \r\n            <li class=\"nav-item h-50 bg-secondary\">\r\n                <router-link class=\"nav-link p-1 text-white font-weight-bold\" to=\"/forum-texte\">Forum texte</router-link>\r\n            </li>\r\n            <li class=\"nav-item h-50 bg-secondary\">\r\n                <router-link class=\"nav-link p-1 text-white font-weight-bold\" to=\"/forum-multimedia\">Forum Multimédia</router-link> \r\n            </li>\r\n        </ul>  \r\n        <view-routeur></view-routeur>\r\n        <h1 class=\"text-center text-white\">Forum Texte</h1>\r\n        <div class=\"border border-white rounded\">\r\n            <form id=\"forum\" @submit.prevent=\"submitFormForum\" class=\"row justify-content-center was-validated needs-validation\" novalidate>\r\n                <div class=\"form-group col-11 col-md-10 m-0 p-1\">\r\n                    <label for=\"post\" class=\"col-auto col-form-label col-form-label-sm\"></label> \r\n                    <textarea name=\"post\" id=\"post\" class=\"form-control form-control-lg\" placeholder=\"Veuillez saisir un nouveau post\" v-model=\"post\" pattern=\"[A-Za-z\\s\\-éöàäèüáúóêûîôâ']{2,1500}\" required></textarea>\r\n                    <div class=\"valid-feedback\">Valide</div>\r\n                    <div class=\"invalid-feedback\"></div>\r\n                </div>\r\n                <div class=\"form-group col-6 col-md-7 col-lg-9 col-xl-11 mb-2 text-center\">\r\n                    <button type=\"submit\" :click=\"submitFormForum\" class=\"btn btn-primary btn-lg col-12 col-md-5 mt-3 mb-2\">Poster</button>\r\n                </div>            \r\n            </form>\r\n        </div>\r\n        <div>\r\n            <section v-if=\"errored\">\r\n                <p>Nous sommes désolés, nous ne sommes pas en mesure de récupérer ces informations pour le moment. Veuillez réessayer ultérieurement.</p>\r\n            </section>\r\n            <section v-else>\r\n                <div v-if=\"loading\">Chargement...</div>\r\n                <div v-else v-for-key=\"forums\" class=\"forums\">\r\n                    {{ forum.description }}\r\n                    \r\n                </div>\r\n            </section>\r\n        </div>   \r\n        <div>\r\n            <button class=\"btn btn-primary btn-sm\"><i class=\"far fa-comment-dots\"></i></button>\r\n            <button class=\"btn btn-primary btn-sm\"><i class=\"far fa-trash-alt\"></i></button>\r\n        </div>        \r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n    name: 'forum',\r\n    data(){\r\n        return {\r\n            pseudo:'',\r\n            info: null,\r\n            loading: true,\r\n            errored: false            \r\n        }\r\n    },\r\n    methods:{        \r\n        submitFormForum: function (){\r\n            let pseudo = localStorage.getItem('pseudo');\r\n            let post = this.post;\r\n            let regexPost = /[A-Za-z\\s\\-éöàäèüáúóêûîôâ']{2,1500}/g;\r\n            if((regexPost.test(post) === true)\r\n            ){\r\n                let message = {\r\n                    pseudo: pseudo,\r\n                    post: post\r\n                }\r\n                console.log(message);\r\n                const envoi = {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    },\r\n                    body: JSON.stringify({ message }),\r\n                    mode: 'cors',\r\n                    cache: 'default'\r\n                }\r\n            console.log(envoi);\r\n            fetch(\"http://localhost:3000/api/forum\", envoi)\r\n            .then(response => {\r\n                console.log(response);\r\n                /*location.replace('http://localhost:8080/forum-texte')*/\r\n            })            \r\n            .catch(error => alert(\"Erreur : \" + error));\r\n            }\r\n        },\r\n        getPosts(){\r\n            axios\r\n                .get (\"http://localhost:3000/api/forum/\")\r\n                .then( response => {\r\n                    this.info = response.data.forum\r\n                })                \r\n                .catch(error => {\r\n                    console.log(error)\r\n                    this.errored = true\r\n                })\r\n                .finally(() => this.loaging = false)\r\n        }        \r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]}]}