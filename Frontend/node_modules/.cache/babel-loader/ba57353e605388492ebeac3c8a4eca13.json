{"remainingRequest":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\src\\views\\Confidential.vue?vue&type=template&id=2ee4b27c","dependencies":[{"path":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\src\\views\\Confidential.vue","mtime":1617530983900},{"path":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1616796459000},{"path":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jayB9IGZyb20gInZ1ZSI7CnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAiYWNjdWVpbC1mb3J1bSIKfTsKCnZhciBfaG9pc3RlZF8yID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiaDEiLCB7CiAgY2xhc3M6ICJ0ZXh0LWNlbnRlciB0ZXh0LXdoaXRlIgp9LCAiRm9ydW1zIiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzMgPSB7CiAgY2xhc3M6ICJuYXYganVzdGlmeS1jb250ZW50LWVuZCBuYXYtZmlsbCIKfTsKdmFyIF9ob2lzdGVkXzQgPSB7CiAgY2xhc3M6ICJuYXYtaXRlbSIKfTsKCnZhciBfaG9pc3RlZF81ID0gLyojX19QVVJFX18qL19jcmVhdGVUZXh0Vk5vZGUoIkZvcnVtIFRleHRlIik7Cgp2YXIgX2hvaXN0ZWRfNiA9IHsKICBjbGFzczogIm5hdi1pdGVtIgp9OwoKdmFyIF9ob2lzdGVkXzcgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVRleHRWTm9kZSgiRm9ydW0gbXVsdGltw6lkaWEiKTsKCmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgdmFyIF9jb21wb25lbnRfcm91dGVyX2xpbmsgPSBfcmVzb2x2ZUNvbXBvbmVudCgicm91dGVyLWxpbmsiKTsKCiAgdmFyIF9jb21wb25lbnRfdmlld19yb3V0ZXVyID0gX3Jlc29sdmVDb21wb25lbnQoInZpZXctcm91dGV1ciIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfaG9pc3RlZF8yLCBfY3JlYXRlVk5vZGUoInVsIiwgX2hvaXN0ZWRfMywgW19jcmVhdGVWTm9kZSgibGkiLCBfaG9pc3RlZF80LCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfcm91dGVyX2xpbmssIHsKICAgIGNsYXNzOiAibmF2LWxpbmsgdGV4dC13aGl0ZSIsCiAgICB0bzogIi9mb3JtVGV4dGUiCiAgfSwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW19ob2lzdGVkXzVdOwogICAgfSksCiAgICBfOiAxCiAgICAvKiBTVEFCTEUgKi8KCiAgfSldKSwgX2NyZWF0ZVZOb2RlKCJsaSIsIF9ob2lzdGVkXzYsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9yb3V0ZXJfbGluaywgewogICAgY2xhc3M6ICJuYXYtbGluayB0ZXh0LXdoaXRlIiwKICAgIHRvOiAiL2ZvcnVtTXVsdGltZWRpYSIKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbX2hvaXN0ZWRfN107CiAgICB9KSwKICAgIF86IDEKICAgIC8qIFNUQUJMRSAqLwoKICB9KV0pXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X3ZpZXdfcm91dGV1cildKTsKfQ=="},{"version":3,"sources":["C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\src\\views\\Confidential.vue"],"names":[],"mappings":";;AACQ,EAAA,KAAK,EAAC;;;8BACP,YAAA,CAA8C,IAA9C,EAA8C;AAA1C,EAAA,KAAK,EAAC;AAAoC,CAA9C,EAAmC,QAAnC,EAAyC,CAAA;AAAA;AAAzC,C;;;AACI,EAAA,KAAK,EAAC;;;AACL,EAAA,KAAK,EAAC;;;+CACiD,a;;;AAEvD,EAAA,KAAK,EAAC;;;+CACqD,kB;;;;;;;uBAPpE,YAAA,CAWO,KAXP,EAAA,UAAA,EAWO,CAVH,UAUG,EATH,YAAA,CAOI,IAPJ,EAAA,UAAA,EAOI,CANH,YAAA,CAEK,IAFL,EAAA,UAAA,EAEK,CADH,YAAA,CAAkF,sBAAlF,EAAkF;AAArE,IAAA,KAAK,EAAC,qBAA+D;AAAzC,IAAA,EAAE,EAAC;AAAsC,GAAlF,E;sBAAyD;AAAA,aAAW,C,UAAA,CAAX;AAAA,K;;;;GAAzD,CACG,CAFL,CAMG,EAHH,YAAA,CAEK,IAFL,EAAA,UAAA,EAEK,CADL,YAAA,CAA6F,sBAA7F,EAA6F;AAAhF,IAAA,KAAK,EAAC,qBAA0E;AAApD,IAAA,EAAE,EAAC;AAAiD,GAA7F,E;sBAA+D;AAAA,aAAgB,C,UAAA,CAAhB;AAAA,K;;;;GAA/D,CACK,CAFL,CAGG,CAPJ,CASG,EADJ,YAAA,CAA6B,uBAA7B,CACI,CAXP,C","sourcesContent":["<template>\r\n   <div class=\"accueil-forum\">  \r\n       <h1 class=\"text-center text-white\">Forums</h1>\r\n       <ul class=\"nav justify-content-end nav-fill\">\r\n        <li class=\"nav-item\">\r\n          <router-link class=\"nav-link text-white\" to=\"/formTexte\">Forum Texte</router-link>\r\n        </li>\r\n        <li class=\"nav-item\">\r\n        <router-link class=\"nav-link text-white\" to=\"/forumMultimedia\">Forum multimédia</router-link> \r\n        </li>\r\n      </ul>  \r\n      <view-routeur></view-routeur>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'forum',\r\n    data(){\r\n        return {\r\n            pseudo:'',\r\n            tableauPost: [],\r\n        }\r\n    },\r\n    methods:{        \r\n        submitFormForum: function (){\r\n            let pseudo = this.pseudo;\r\n            let post = this.post;\r\n            let regexPost = /[A-Za-z\\s\\-éöàäèüáúóêûîôâ']{2,1500}/g;\r\n            if((regexPost.test(post) === true)\r\n            ){\r\n                let message = {\r\n                    pseudo: pseudo,\r\n                    post: post\r\n                }\r\n                console.log(message);\r\n                const envoi = {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    },\r\n                    body: JSON.stringify( message ),\r\n                    mode: 'cors',\r\n                    cache: 'default'\r\n                }\r\n            console.log(envoi);\r\n            fetch(\"http://localhost:3000/api/forum/\", envoi)\r\n            .then(response => response.json())\r\n            .then(messages => {\r\n                console.log ('envoi ' + messages);\r\n                })\r\n            .catch(error => alert(\"Erreur : \" + error));\r\n            } else{\r\n                alert (\"Veuillez vérifier vos informations, le formulaire d'inscription n'est pas valide.\")\r\n            }\r\n        },\r\n        fetchDatas() {\r\n        fetch(\"http://localhost:3000/api/forum/\")\r\n        .then(response => response.json())\r\n        .then(posts => {\r\n            this.tableauPost = posts;\r\n            let fil = document.getElementById('posts');\r\n            if(posts === \"\"){\r\n                let noPost = document.createElement('h2');\r\n                noPost.className = 'null row';\r\n                noPost.textContent = 'Aucun post'\r\n                fil.append(noPost);\r\n            }else{\r\n                for(let i=0; i<posts.length; i++){\r\n                \r\n                    let newPost = document.createElement('div');\r\n                    newPost.className = 'post row';\r\n                    fil.append(newPost);\r\n\r\n                    let newPostPseudo = document.createElement('p');\r\n                    newPostPseudo.className = 'postPseudo col-4 text-white';\r\n                    newPostPseudo.textContent = posts[i].pseudonyme;\r\n                    newPost.append(newPostPseudo);\r\n\r\n                    let newPostDate = document.createElement('p');\r\n                    newPostDate.className = 'postDate col-4 text-white';\r\n                    newPostDate.textContent = posts[i].contenuDate;\r\n                    newPost.append(newPostDate);\r\n\r\n                    let newPostImage = document.createElement('img');\r\n                    newPostImage.className = 'postImage img-thumbnail border-0 max-auto d-block img-fluid h-75'\r\n                    newPostImage.textContent = posts[i].contenuImage;\r\n                    newPost.append(newPostImage);\r\n\r\n                    let newComment = document.createElement('div');\r\n                    newComment.className = 'comment row';\r\n                    fil.append(newComment);\r\n\r\n                    let newCommentPseudo = document.createElement('p');\r\n                    newCommentPseudo.className = 'commentPseudo col-4 text-white';\r\n                    newCommentPseudo.textContent = posts[i].pseudonyme;\r\n                    newComment.append(newCommentPseudo);\r\n\r\n                    let newCommentDate = document.createElement('p');\r\n                    newCommentDate.className = 'commentDate col-4 text-white';\r\n                    newCommentDate.textContent = posts[i].commentaireDate;\r\n                    newComment.append(newCommentDate);\r\n\r\n                    let newCommentContenu = document.createElement('p');\r\n                    newCommentContenu.className = 'commentContenu col-10 text-white';\r\n                    newCommentContenu.textContent = posts[i].commentaire;\r\n                    newComment.append(newCommentContenu);\r\n                }\r\n            }          \r\n        })\r\n        .catch(error => alert(\"Erreur : \" + error))\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"],"sourceRoot":""}]}