{"remainingRequest":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\src\\views\\Forum.vue?vue&type=template&id=649c4a52","dependencies":[{"path":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\src\\views\\Forum.vue","mtime":1617379094848},{"path":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1616796459000},{"path":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB2TW9kZWxUZXh0IGFzIF92TW9kZWxUZXh0LCB3aXRoRGlyZWN0aXZlcyBhcyBfd2l0aERpcmVjdGl2ZXMsIHdpdGhNb2RpZmllcnMgYXMgX3dpdGhNb2RpZmllcnMsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2sgfSBmcm9tICJ2dWUiOwp2YXIgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogImZvcm0tcm93IHJvdW5kZWQgYmctdHJhbnNwYXJlbnQgc2hhZG93IGZsZXgtY29sdW1uIGp1c3RpZnktY29udGVudC1jZW50ZXIgbS0wIHBiLTAiCn07Cgp2YXIgX2hvaXN0ZWRfMiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImgxIiwgewogIGNsYXNzOiAidGV4dC1jZW50ZXIgdGV4dC13aGl0ZSIKfSwgIkZvcnVtIiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzMgPSB7CiAgY2xhc3M6ICJmb3JtLWdyb3VwIGNvbC0xMCBjb2wtbWQtMTAgbS0wIHAtMCIKfTsKCnZhciBfaG9pc3RlZF80ID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgibGFiZWwiLCB7CiAgZm9yOiAicG9zdCIsCiAgY2xhc3M6ICJjb2wtYXV0byBjb2wtZm9ybS1sYWJlbCBjb2wtZm9ybS1sYWJlbC1zbSIKfSwgbnVsbCwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzUgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJkaXYiLCB7CiAgY2xhc3M6ICJ2YWxpZC1mZWVkYmFjayIKfSwgIlZhbGlkZSIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF82ID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiZGl2IiwgewogIGNsYXNzOiAiaW52YWxpZC1mZWVkYmFjayIKfSwgbnVsbCwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzcgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJkaXYiLCB7CiAgY2xhc3M6ICJmb3JtLWdyb3VwIGNvbC0xMCBjb2wtbWQtMTAgbS0wIHAtMCIKfSwgWy8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImxhYmVsIiwgewogIGZvcjogImltYWdlIgp9KSwgLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiaW5wdXQiLCB7CiAgY2xhc3M6ICIiLAogIHR5cGU6ICJmaWxlIiwKICBpZDogImltYWdlIiwKICBuYW1lOiAiaW1hZ2UiLAogIGFjY2VwdDogIi5qcGcsIC5qcGVnLCAucG5nIiwKICBtdWx0aXBsZTogIiIKfSldLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfOCA9IHsKICBjbGFzczogImZvcm0tZ3JvdXAgY29sLTYgY29sLW1kLTcgY29sLWxnLTkgY29sLXhsLTExIG1iLTQgdGV4dC1jZW50ZXIiCn07Cgp2YXIgX2hvaXN0ZWRfOSA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoInNwYW4iLCB7CiAgaWQ6ICJwb3N0cyIKfSwgbnVsbCwgLTEKLyogSE9JU1RFRCAqLwopOwoKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUpIHsKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfaG9pc3RlZF8yLCBfY3JlYXRlVk5vZGUoImRpdiIsIG51bGwsIFtfY3JlYXRlVk5vZGUoImZvcm0iLCB7CiAgICBpZDogImZvcnVtIiwKICAgIG9uU3VibWl0OiBfY2FjaGVbMl0gfHwgKF9jYWNoZVsyXSA9IF93aXRoTW9kaWZpZXJzKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIF9jdHguc3VibWl0Rm9ybUZvcnVtICYmIF9jdHguc3VibWl0Rm9ybUZvcnVtLmFwcGx5KF9jdHgsIGFyZ3VtZW50cyk7CiAgICB9LCBbInByZXZlbnQiXSkpLAogICAgY2xhc3M6ICJyb3cganVzdGlmeS1jb250ZW50LWNlbnRlciB3YXMtdmFsaWRhdGVkIG5lZWRzLXZhbGlkYXRpb24iLAogICAgbm92YWxpZGF0ZTogIiIKICB9LCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zLCBbX2hvaXN0ZWRfNCwgX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVWTm9kZSgidGV4dGFyZWEiLCB7CiAgICBuYW1lOiAicG9zdCIsCiAgICBpZDogInBvc3QiLAogICAgY2xhc3M6ICJmb3JtLWNvbnRyb2wgZm9ybS1jb250cm9sLWxnIiwKICAgIHBsYWNlaG9sZGVyOiAiVmV1aWxsZXogc2Fpc2lyIHVuIG5vdXZlYXUgcG9zdCIsCiAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gX2N0eC5wb3N0ID0gJGV2ZW50OwogICAgfSksCiAgICBwYXR0ZXJuOiAiW0EtWmEtelxcc1xcLcOpw7bDoMOkw6jDvMOhw7rDs8Oqw7vDrsO0w6InXXsyLDE1MDB9IiwKICAgIHJlcXVpcmVkOiAiIgogIH0sIG51bGwsIDUxMgogIC8qIE5FRURfUEFUQ0ggKi8KICApLCBbW192TW9kZWxUZXh0LCBfY3R4LnBvc3RdXSksIF9ob2lzdGVkXzUsIF9ob2lzdGVkXzZdKSwgX2hvaXN0ZWRfNywgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF84LCBbX2NyZWF0ZVZOb2RlKCJidXR0b24iLCB7CiAgICB0eXBlOiAic3VibWl0IiwKICAgIGNsaWNrOiBfY3R4LnN1Ym1pdEZvcm1Gb3J1bSwKICAgIGNsYXNzOiAiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1sZyBjb2wtMTIgY29sLW1kLTUgbXQtMyBtYi0yIgogIH0sICJQb3N0ZXIiLCA4CiAgLyogUFJPUFMgKi8KICAsIFsiY2xpY2siXSldKV0sIDMyCiAgLyogSFlEUkFURV9FVkVOVFMgKi8KICApXSksIF9ob2lzdGVkXzldKTsKfQ=="},{"version":3,"sources":["C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\src\\views\\Forum.vue"],"names":[],"mappings":";;AACQ,EAAA,KAAK,EAAC;;;8BACP,YAAA,CAA6C,IAA7C,EAA6C;AAAzC,EAAA,KAAK,EAAC;AAAmC,CAA7C,EAAmC,OAAnC,EAAwC,CAAA;AAAA;AAAxC,C;;;AAGc,EAAA,KAAK,EAAC;;;8BACP,YAAA,CAA4E,OAA5E,EAA4E;AAArE,EAAA,GAAG,EAAC,MAAiE;AAA1D,EAAA,KAAK,EAAC;AAAoD,CAA5E,E,IAAA,E;;AAAA,C;;8BAEA,YAAA,CAAwC,KAAxC,EAAwC;AAAnC,EAAA,KAAK,EAAC;AAA6B,CAAxC,EAA4B,QAA5B,EAAkC,CAAA;AAAA;AAAlC,C;;8BACA,YAAA,CAAoC,KAApC,EAAoC;AAA/B,EAAA,KAAK,EAAC;AAAyB,CAApC,EAA6B,IAA7B,EAA6B,CAAA;AAAA;AAA7B,C;;8BAEJ,YAAA,CAGM,KAHN,EAGM;AAHD,EAAA,KAAK,EAAC;AAGL,CAHN,EAAgD,C,aACxC,YAAA,CAA2B,OAA3B,EAA2B;AAApB,EAAA,GAAG,EAAC;AAAgB,CAA3B,CADwC,E,aAExC,YAAA,CAAwF,OAAxF,EAAwF;AAAjF,EAAA,KAAK,EAAC,EAA2E;AAAxE,EAAA,IAAI,EAAC,MAAmE;AAA5D,EAAA,EAAE,EAAC,OAAyD;AAAjD,EAAA,IAAI,EAAC,OAA4C;AAApC,EAAA,MAAM,EAAC,mBAA6B;AAAT,EAAA,QAAQ,EAAR;AAAS,CAAxF,CAFwC,CAAhD,E;;AAAA,C;;;AAIK,EAAA,KAAK,EAAC;;;8BAKnB,YAAA,CAAwB,MAAxB,EAAwB;AAAlB,EAAA,EAAE,EAAC;AAAe,CAAxB,EAAgB,IAAhB,EAAgB,CAAA;AAAA;AAAhB,C;;;uBAnBL,YAAA,CAoBO,KApBP,EAAA,UAAA,EAoBO,CAnBH,UAmBG,EAlBF,YAAA,CAgBM,KAhBN,EAgBM,IAhBN,EAgBM,CAfF,YAAA,CAcO,MAdP,EAcO;AAdD,IAAA,EAAE,EAAC,OAcF;AAdW,IAAA,QAAM,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,cAAA,CAAA;AAAA,aAAU,IAAA,CAAA,eAAA,IAAA,IAAA,CAAA,eAAA,OAAA,IAAA,YAAV;AAAA,KAAA,EAAyB,CAAA,SAAA,CAAzB,CAAA,CAcjB;AAd4C,IAAA,KAAK,EAAC,2DAclD;AAd8G,IAAA,UAAU,EAAV;AAc9G,GAdP,E,CACI,YAAA,CAKM,KALN,EAAA,UAAA,EAKM,CAJF,UAIE,E,gBAHF,YAAA,CAAoM,UAApM,EAAoM;AAA1L,IAAA,IAAI,EAAC,MAAqL;AAA9K,IAAA,EAAE,EAAC,MAA2K;AAApK,IAAA,KAAK,EAAC,8BAA8J;AAA/H,IAAA,WAAW,EAAC,iCAAmH;;aAAxE,IAAA,CAAA,IAAA,GAAI,M;MAAoE;AAAlE,IAAA,OAAO,EAAC,uCAA0D;AAApB,IAAA,QAAQ,EAAR;AAAoB,GAApM,E,IAAA,E;;AAAA,G,iBAA4H,IAAA,CAAA,I,GAG1H,EAFF,UAEE,EADF,UACE,CALN,C,EAMA,U,EAIA,YAAA,CAEM,KAFN,EAAA,UAAA,EAEM,CADF,YAAA,CAAuH,QAAvH,EAAuH;AAA/G,IAAA,IAAI,EAAC,QAA0G;AAAhG,IAAA,KAAK,EAAE,IAAA,CAAA,eAAyF;AAAxE,IAAA,KAAK,EAAC;AAAkE,GAAvH,EAAwG,QAAxG,EAA8G;AAAA;AAA9G,IAA8G,CAAA,OAAA,CAA9G,CACE,CAFN,C,CAXJ,E;;AAAA,GAeE,CAhBN,CAkBE,EADF,UACE,CApBP,C","sourcesContent":["<template>\r\n   <div class=\"form-row rounded bg-transparent shadow flex-column justify-content-center m-0 pb-0\">  \r\n       <h1 class=\"text-center text-white\">Forum</h1>\r\n        <div>\r\n            <form id=\"forum\" @submit.prevent=\"submitFormForum\" class=\"row justify-content-center was-validated needs-validation\" novalidate>\r\n                <div class=\"form-group col-10 col-md-10 m-0 p-0\">\r\n                    <label for=\"post\" class=\"col-auto col-form-label col-form-label-sm\"></label> \r\n                    <textarea name=\"post\" id=\"post\" class=\"form-control form-control-lg\" placeholder=\"Veuillez saisir un nouveau post\" v-model=\"post\" pattern=\"[A-Za-z\\s\\-éöàäèüáúóêûîôâ']{2,1500}\" required></textarea>\r\n                    <div class=\"valid-feedback\">Valide</div>\r\n                    <div class=\"invalid-feedback\"></div>\r\n                </div>\r\n                <div class=\"form-group col-10 col-md-10 m-0 p-0\">\r\n                        <label for=\"image\"></label>\r\n                        <input class=\"\" type=\"file\" id=\"image\" name=\"image\" accept=\".jpg, .jpeg, .png\" multiple>                             \r\n                </div>\r\n                <div class=\"form-group col-6 col-md-7 col-lg-9 col-xl-11 mb-4 text-center\">\r\n                    <button type=\"submit\" :click=\"submitFormForum\" class=\"btn btn-primary btn-lg col-12 col-md-5 mt-3 mb-2\">Poster</button>\r\n                </div>            \r\n            </form>\r\n        </div>\r\n        <span id=\"posts\"></span>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'forum',\r\n    data(){\r\n        return {\r\n            pseudo:'',\r\n            post: ''\r\n        }\r\n    },\r\n    methods:{\r\n        \r\n        submitFormForum: function (){\r\n            let pseudo = this.pseudo;\r\n            let post = this.post;\r\n            let regexPost = /[A-Za-z\\s\\-éöàäèüáúóêûîôâ']{2,1500}/g;\r\n            if((regexPost.test(post) === true)\r\n            ){\r\n                let message = {\r\n                    pseudo: pseudo,\r\n                    post: post\r\n                }\r\n                console.log(message);\r\n                const envoi = {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    },\r\n                    body: JSON.stringify( message ),\r\n                    mode: 'cors',\r\n                    cache: 'default'\r\n                }\r\n            console.log(envoi);\r\n            fetch(\"http://localhost:3000/api/forum/\", envoi)\r\n            .then(response => response.json())\r\n            .then(messages => {\r\n                console.log ('envoi ' + messages);\r\n                })\r\n            .catch(error => alert(\"Erreur : \" + error));\r\n            } else{\r\n                alert (\"Veuillez vérifier vos informations, le formulaire d'inscription n'est pas valide.\")\r\n            }\r\n        },\r\n        fetch(\"http://localhost:3000/api/forum/\")\r\n        .then(response => response.json())\r\n        .then(posts => {\r\n            fil = document.getElementById('posts');\r\n            if(posts === \"\"){\r\n                null = document.createElement('h2');\r\n                null.className = 'null row';\r\n                null.textContent = 'Aucun post'\r\n                fil.append(null);\r\n            }else{\r\n                for(let i=0; i<posts.length; i++){\r\n                \r\n                    newPost = document.createElement('div');\r\n                    newPost.className = 'post row';\r\n                    main.append(newPost);\r\n\r\n                    newPostPseudo = document.createElement('p');\r\n                    newPostPseudo.className = 'postPseudo col-4 text-white';\r\n                    newPostPseudo.textContent = posts[i].pseudonyme;\r\n                    newPost.append(newPostPseudo);\r\n\r\n                    newPostDate = document.createElement('p');\r\n                    newPostDate.className = 'postDate col-4 text-white';\r\n                    newPostDate.textContent = posts[i].contenuDate;\r\n                    newPost.append(newPostDate);\r\n\r\n                    newPostImage = document.createElement('img');\r\n                    newPostImage.className = 'postImage img-thumbnail border-0 max-auto d-block img-fluid h-75'\r\n                    newPostImage.textContent = posts[i].contenuImage;\r\n                    newPost.append(newPostImage);\r\n\r\n                    newComment = document.createElement('div');\r\n                    newComment.className = 'comment row';\r\n                    fil.append(newComment);\r\n\r\n                    newCommentPseudo = document.createElement('p');\r\n                    newCommentPseudo.className = 'commentPseudo col-4 text-white';\r\n                    newCommentPseudo.textContent = posts[i].pseudonyme;\r\n                    newComment.append(newCommentPseudo);\r\n\r\n                    newCommentDate = document.createElement('p');\r\n                    newCommentDate.className = 'commentDate col-4 text-white';\r\n                    newCommentDate.textContent = posts[i].commentaireDate;\r\n                    newComment.append(newCommentDate);\r\n\r\n                    newCommentContenu = document.createElement('p');\r\n                    newCommentContenu.className = 'commentContenu col-10 text-white';\r\n                    newCommentContenu.textContent = posts[i].commentaire;\r\n                    newComment.append(newCommentContenu);\r\n                }\r\n            }            \r\n        })\r\n        .catch(error => alert(\"Erreur : \" + error))\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"],"sourceRoot":""}]}