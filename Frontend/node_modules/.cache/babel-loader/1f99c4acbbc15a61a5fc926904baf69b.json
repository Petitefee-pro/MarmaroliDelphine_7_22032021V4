{"remainingRequest":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\src\\views\\Forum.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\src\\views\\Forum.vue","mtime":1617357972974},{"path":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnZm9ydW0nLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwc2V1ZG86ICcnLAogICAgICBwb3N0OiAnJwogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHN1Ym1pdEZvcm1Gb3J1bTogZnVuY3Rpb24gc3VibWl0Rm9ybUZvcnVtKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHBzZXVkbyA9IHRoaXMucHNldWRvOwogICAgICB2YXIgcG9zdCA9IHRoaXMucG9zdDsKICAgICAgdmFyIHJlZ2V4UG9zdCA9IC9bQS1aYS16XHNcLcOpw7bDoMOkw6jDvMOhw7rDs8Oqw7vDrsO0w6InXXsyLDE1MDB9L2c7CgogICAgICBpZiAocmVnZXhQb3N0LnRlc3QocG9zdCkgPT09IHRydWUpIHsKICAgICAgICB2YXIgbWVzc2FnZSA9IHsKICAgICAgICAgIHBzZXVkbzogcHNldWRvLAogICAgICAgICAgcG9zdDogcG9zdAogICAgICAgIH07CiAgICAgICAgY29uc29sZS5sb2cobWVzc2FnZSk7CiAgICAgICAgdmFyIGVudm9pID0gewogICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgICAgICAgIH0sCiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwcm9maWwpLAogICAgICAgICAgbW9kZTogJ2NvcnMnLAogICAgICAgICAgY2FjaGU6ICdkZWZhdWx0JwogICAgICAgIH07CiAgICAgICAgY29uc29sZS5sb2coZW52b2kpOwogICAgICAgIGZldGNoKCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2ZvcnVtLyIsIGVudm9pKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChtZXNzYWdlKSB7CiAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICBuYW1lOiAnRm9ydW0nCiAgICAgICAgICB9KTsKCiAgICAgICAgICBjb25zb2xlLmxvZygnZW52b2kgJyArIG1lc3NhZ2UpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgcmV0dXJuIGFsZXJ0KCJFcnJldXIgOiAiICsgZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGFsZXJ0KCJWZXVpbGxleiB2w6lyaWZpZXIgdm9zIGluZm9ybWF0aW9ucywgbGUgZm9ybXVsYWlyZSBkJ2luc2NyaXB0aW9uIG4nZXN0IHBhcyB2YWxpZGUuIik7CiAgICAgIH0KICAgIH0KICAgIC8qZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvZm9ydW0nKQ0KICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSkNCiAgICAudGhlbihwb3N0cyA9PiB7DQogICAgICAgIG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwJyk7DQogICAgICAgIGlmKHBvc3RzID09PSAiIil7DQogICAgICAgICAgICBudWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDInKTsNCiAgICAgICAgICAgIG51bGwuY2xhc3NOYW1lID0gJ251bGwgcm93JzsNCiAgICAgICAgICAgIG51bGwudGV4dENvbnRlbnQgPSAnQXVjdW4gcG9zdCcNCiAgICAgICAgICAgIG1haW4uYXBwZW5kKG51bGwpOw0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIGZvcihsZXQgaT0wOyBpPHBvc3RzLmxlbmd0aDsgaSsrKXsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIG5ld1Bvc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsNCiAgICAgICAgICAgICAgICBuZXdQb3N0LmNsYXNzTmFtZSA9ICdwb3N0IHJvdyc7DQogICAgICAgICAgICAgICAgbWFpbi5hcHBlbmQobmV3UG9zdCk7DQogICAgICAgICAgICAgICAgICBuZXdQb3N0UHNldWRvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpOw0KICAgICAgICAgICAgICAgIG5ld1Bvc3RQc2V1ZG8uY2xhc3NOYW1lID0gJ3Bvc3RQc2V1ZG8gY29sLTQgdGV4dC13aGl0ZSc7DQogICAgICAgICAgICAgICAgbmV3UG9zdFBzZXVkby50ZXh0Q29udGVudCA9IHBvc3RzW2ldLnBzZXVkb255bWU7DQogICAgICAgICAgICAgICAgbmV3UG9zdC5hcHBlbmQobmV3UG9zdFBzZXVkbyk7DQogICAgICAgICAgICAgICAgICBuZXdQb3N0RGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTsNCiAgICAgICAgICAgICAgICBuZXdQb3N0RGF0ZS5jbGFzc05hbWUgPSAncG9zdERhdGUgY29sLTQgdGV4dC13aGl0ZSc7DQogICAgICAgICAgICAgICAgbmV3UG9zdERhdGUudGV4dENvbnRlbnQgPSBwb3N0c1tpXS5jb250ZW51RGF0ZTsNCiAgICAgICAgICAgICAgICBuZXdQb3N0LmFwcGVuZChuZXdQb3N0RGF0ZSk7DQogICAgICAgICAgICAgICAgICBuZXdQb3N0SW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTsNCiAgICAgICAgICAgICAgICBuZXdQb3N0SW1hZ2UuY2xhc3NOYW1lID0gJ3Bvc3RJbWFnZSBpbWctdGh1bWJuYWlsIGJvcmRlci0wIG1heC1hdXRvIGQtYmxvY2sgaW1nLWZsdWlkIGgtNzUnDQogICAgICAgICAgICAgICAgbmV3UG9zdEltYWdlLnRleHRDb250ZW50ID0gcG9zdHNbaV0uY29udGVudUltYWdlOw0KICAgICAgICAgICAgICAgIG5ld1Bvc3QuYXBwZW5kKG5ld1Bvc3RJbWFnZSk7DQogICAgICAgICAgICAgICAgICBuZXdDb21tZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQogICAgICAgICAgICAgICAgbmV3Q29tbWVudC5jbGFzc05hbWUgPSAnY29tbWVudCByb3cnOw0KICAgICAgICAgICAgICAgIG1haW4uYXBwZW5kKG5ld0NvbW1lbnQpOw0KICAgICAgICAgICAgICAgICAgbmV3Q29tbWVudFBzZXVkbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTsNCiAgICAgICAgICAgICAgICBuZXdDb21tZW50UHNldWRvLmNsYXNzTmFtZSA9ICdjb21tZW50UHNldWRvIGNvbC00IHRleHQtd2hpdGUnOw0KICAgICAgICAgICAgICAgIG5ld0NvbW1lbnRQc2V1ZG8udGV4dENvbnRlbnQgPSBwb3N0c1tpXS5wc2V1ZG9ueW1lOw0KICAgICAgICAgICAgICAgIG5ld0NvbW1lbnQuYXBwZW5kKG5ld0NvbW1lbnRQc2V1ZG8pOw0KICAgICAgICAgICAgICAgICAgbmV3Q29tbWVudERhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7DQogICAgICAgICAgICAgICAgbmV3Q29tbWVudERhdGUuY2xhc3NOYW1lID0gJ2NvbW1lbnREYXRlIGNvbC00IHRleHQtd2hpdGUnOw0KICAgICAgICAgICAgICAgIG5ld0NvbW1lbnREYXRlLnRleHRDb250ZW50ID0gcG9zdHNbaV0uY29tbWVudGFpcmVEYXRlOw0KICAgICAgICAgICAgICAgIG5ld0NvbW1lbnQuYXBwZW5kKG5ld0NvbW1lbnREYXRlKTsNCiAgICAgICAgICAgICAgICAgIG5ld0NvbW1lbnRDb250ZW51ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpOw0KICAgICAgICAgICAgICAgIG5ld0NvbW1lbnRDb250ZW51LmNsYXNzTmFtZSA9ICdjb21tZW50Q29udGVudSBjb2wtMTAgdGV4dC13aGl0ZSc7DQogICAgICAgICAgICAgICAgbmV3Q29tbWVudENvbnRlbnUudGV4dENvbnRlbnQgPSBwb3N0c1tpXS5jb21tZW50YWlyZTsNCiAgICAgICAgICAgICAgICBuZXdDb21tZW50LmFwcGVuZChuZXdDb21tZW50Q29udGVudSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0gICAgICAgICAgICANCiAgICB9KQ0KICAgIC5jYXRjaChlcnJvciA9PiBhbGVydCgiRXJyZXVyIDogIiArIGVycm9yKSkqLwoKICB9Cn07"},{"version":3,"sources":["C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\src\\views\\Forum.vue"],"names":[],"mappings":";AAqBA,eAAe;AACX,EAAA,IAAI,EAAE,OADK;AAEX,EAAA,IAFW,kBAEL;AACF,WAAO;AACH,MAAA,MAAM,EAAC,EADJ;AAEH,MAAA,IAAI,EAAE;AAFH,KAAP;AAIH,GAPU;AAQX,EAAA,OAAO,EAAC;AACJ,IAAA,eAAe,EAAE,2BAAW;AAAA;;AACxB,UAAI,MAAK,GAAI,KAAK,MAAlB;AACA,UAAI,IAAG,GAAI,KAAK,IAAhB;AACA,UAAI,SAAQ,GAAI,sCAAhB;;AACA,UAAI,SAAS,CAAC,IAAV,CAAe,IAAf,MAAyB,IAA7B,EACC;AACG,YAAI,OAAM,GAAI;AACV,UAAA,MAAM,EAAE,MADE;AAEV,UAAA,IAAI,EAAE;AAFI,SAAd;AAIA,QAAA,OAAO,CAAC,GAAR,CAAY,OAAZ;AACA,YAAM,KAAI,GAAI;AACV,UAAA,MAAM,EAAE,MADE;AAEV,UAAA,OAAO,EAAE;AACL,4BAAgB;AADX,WAFC;AAKV,UAAA,IAAI,EAAE,IAAI,CAAC,SAAL,CAAgB,MAAhB,CALI;AAMV,UAAA,IAAI,EAAE,MANI;AAOV,UAAA,KAAK,EAAE;AAPG,SAAd;AASJ,QAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACA,QAAA,KAAK,CAAC,kCAAD,EAAqC,KAArC,CAAL,CACC,IADD,CACM,UAAA,QAAO;AAAA,iBAAK,QAAQ,CAAC,IAAT,EAAL;AAAA,SADb,EAEC,IAFD,CAEM,UAAA,OAAM,EAAK;AACb,UAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB;AAAE,YAAA,IAAI,EAAE;AAAR,WAAlB;;AACA,UAAA,OAAO,CAAC,GAAR,CAAa,WAAW,OAAxB;AACC,SALL,EAMC,KAND,CAMO,UAAA,KAAI;AAAA,iBAAK,KAAK,CAAC,cAAc,KAAf,CAAV;AAAA,SANX;AAOA,OAxBA,MAwBM;AACF,QAAA,KAAI,CAAG,mFAAH,CAAJ;AACJ;AACJ;AACA;AACA;AACA;AACI;AACA;AACI;AACA;AACA;AACA;AACJ;AACI;;AAEI;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AA9ER;AARG,CAAf","sourcesContent":["<template>\r\n   <div class=\"form-row rounded bg-transparent shadow flex-column justify-content-center m-0 pb-0\">  \r\n       <h1 class=\"text-center text-white\">Forum</h1>\r\n        <div>\r\n            <form id=\"forum\" @submit.prevent=\"submitFormForum\" class=\"row justify-content-center was-validated needs-validation\" novalidate>\r\n                <div class=\"form-group col-10 col-md-10 m-0 p-0\">\r\n                    <label for=\"post\" class=\"col-auto col-form-label col-form-label-sm\"></label> \r\n                    <textarea name=\"post\" id=\"post\" class=\"form-control form-control-lg\" placeholder=\"Veuillez saisir un nouveau post\" v-model=\"post\" pattern=\"[A-Za-z\\s\\-éöàäèüáúóêûîôâ']{2,1500}\" required></textarea>\r\n                    <div class=\"valid-feedback\">Valide</div>\r\n                    <div class=\"invalid-feedback\">Veuillez saisir un post</div>\r\n                </div>\r\n                <div class=\"form-group col-6 col-md-7 col-lg-9 col-xl-11 mb-4 text-center\">\r\n                    <button type=\"submit\" :click=\"submitFormForum\" class=\"btn btn-primary btn-lg col-12 col-md-5 mt-3 mb-2\">Poster</button>\r\n                </div>            \r\n            </form>\r\n        </div>\r\n        <span id=\"forum\"></span>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'forum',\r\n    data(){\r\n        return {\r\n            pseudo:'',\r\n            post: ''\r\n        }\r\n    },\r\n    methods:{\r\n        submitFormForum: function (){\r\n            let pseudo = this.pseudo;\r\n            let post = this.post;\r\n            let regexPost = /[A-Za-z\\s\\-éöàäèüáúóêûîôâ']{2,1500}/g;\r\n            if((regexPost.test(post) === true)\r\n            ){\r\n                let message = {\r\n                    pseudo: pseudo,\r\n                    post: post\r\n                }\r\n                console.log(message);\r\n                const envoi = {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    },\r\n                    body: JSON.stringify( profil ),\r\n                    mode: 'cors',\r\n                    cache: 'default'\r\n                }\r\n            console.log(envoi);\r\n            fetch(\"http://localhost:3000/api/forum/\", envoi)\r\n            .then(response => response.json())\r\n            .then(message => {\r\n                this.$router.push({ name: 'Forum' })\r\n                console.log ('envoi ' + message);\r\n                })\r\n            .catch(error => alert(\"Erreur : \" + error));\r\n            } else{\r\n                alert (\"Veuillez vérifier vos informations, le formulaire d'inscription n'est pas valide.\")\r\n            }\r\n        }\r\n        /*fetch('http://localhost:3000/api/forum')\r\n        .then(response => response.json())\r\n        .then(posts => {\r\n            main = document.getElementById('app');\r\n            if(posts === \"\"){\r\n                null = document.createElement('h2');\r\n                null.className = 'null row';\r\n                null.textContent = 'Aucun post'\r\n                main.append(null);\r\n            }else{\r\n                for(let i=0; i<posts.length; i++){\r\n                \r\n                    newPost = document.createElement('div');\r\n                    newPost.className = 'post row';\r\n                    main.append(newPost);\r\n\r\n                    newPostPseudo = document.createElement('p');\r\n                    newPostPseudo.className = 'postPseudo col-4 text-white';\r\n                    newPostPseudo.textContent = posts[i].pseudonyme;\r\n                    newPost.append(newPostPseudo);\r\n\r\n                    newPostDate = document.createElement('p');\r\n                    newPostDate.className = 'postDate col-4 text-white';\r\n                    newPostDate.textContent = posts[i].contenuDate;\r\n                    newPost.append(newPostDate);\r\n\r\n                    newPostImage = document.createElement('img');\r\n                    newPostImage.className = 'postImage img-thumbnail border-0 max-auto d-block img-fluid h-75'\r\n                    newPostImage.textContent = posts[i].contenuImage;\r\n                    newPost.append(newPostImage);\r\n\r\n                    newComment = document.createElement('div');\r\n                    newComment.className = 'comment row';\r\n                    main.append(newComment);\r\n\r\n                    newCommentPseudo = document.createElement('p');\r\n                    newCommentPseudo.className = 'commentPseudo col-4 text-white';\r\n                    newCommentPseudo.textContent = posts[i].pseudonyme;\r\n                    newComment.append(newCommentPseudo);\r\n\r\n                    newCommentDate = document.createElement('p');\r\n                    newCommentDate.className = 'commentDate col-4 text-white';\r\n                    newCommentDate.textContent = posts[i].commentaireDate;\r\n                    newComment.append(newCommentDate);\r\n\r\n                    newCommentContenu = document.createElement('p');\r\n                    newCommentContenu.className = 'commentContenu col-10 text-white';\r\n                    newCommentContenu.textContent = posts[i].commentaire;\r\n                    newComment.append(newCommentContenu);\r\n                }\r\n            }            \r\n        })\r\n        .catch(error => alert(\"Erreur : \" + error))*/\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"],"sourceRoot":""}]}