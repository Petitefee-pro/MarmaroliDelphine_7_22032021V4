{"remainingRequest":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\src\\views\\ForumTexte.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\src\\views\\ForumTexte.vue","mtime":1617615744839},{"path":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnZm9ydW0nLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwc2V1ZG86ICcnLAogICAgICBpbmZvOiBudWxsLAogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICBlcnJvcmVkOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHN1Ym1pdEZvcm1Gb3J1bTogZnVuY3Rpb24gc3VibWl0Rm9ybUZvcnVtKCkgewogICAgICB2YXIgcHNldWRvID0gdGhpcy5wc2V1ZG87CiAgICAgIHZhciBwb3N0ID0gdGhpcy5wb3N0OwogICAgICB2YXIgcmVnZXhQb3N0ID0gL1tBLVphLXpcc1wtw6nDtsOgw6TDqMO8w6HDusOzw6rDu8Ouw7TDoiddezIsMTUwMH0vZzsKCiAgICAgIGlmIChyZWdleFBvc3QudGVzdChwb3N0KSA9PT0gdHJ1ZSkgewogICAgICAgIHZhciBtZXNzYWdlID0gewogICAgICAgICAgcHNldWRvOiBwc2V1ZG8sCiAgICAgICAgICBwb3N0OiBwb3N0CiAgICAgICAgfTsKICAgICAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTsKICAgICAgICB2YXIgZW52b2kgPSB7CiAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgICAgfSwKICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZQogICAgICAgICAgfSksCiAgICAgICAgICBtb2RlOiAnY29ycycsCiAgICAgICAgICBjYWNoZTogJ2RlZmF1bHQnCiAgICAgICAgfTsKICAgICAgICBjb25zb2xlLmxvZyhlbnZvaSk7CiAgICAgICAgZmV0Y2goImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvZm9ydW0iLCBlbnZvaSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAgIC8qbG9jYXRpb24ucmVwbGFjZSgnaHR0cDovL2xvY2FsaG9zdDo4MDgwL2ZvcnVtLXRleHRlJykqLwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgcmV0dXJuIGFsZXJ0KCJFcnJldXIgOiAiICsgZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZ2V0UG9zdHM6IGZ1bmN0aW9uIGdldFBvc3RzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2ZvcnVtLyIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMuaW5mbyA9IHJlc3BvbnNlLmRhdGEuZm9ydW07CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICBfdGhpcy5lcnJvcmVkID0gdHJ1ZTsKICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF90aGlzLmxvYWdpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\src\\views\\ForumTexte.vue"],"names":[],"mappings":";AA+CA,OAAO,KAAP,MAAkB,OAAlB;AACA,eAAe;AACX,EAAA,IAAI,EAAE,OADK;AAEX,EAAA,IAFW,kBAEL;AACF,WAAO;AACH,MAAA,MAAM,EAAC,EADJ;AAEH,MAAA,IAAI,EAAE,IAFH;AAGH,MAAA,OAAO,EAAE,IAHN;AAIH,MAAA,OAAO,EAAE;AAJN,KAAP;AAMH,GATU;AAUX,EAAA,OAAO,EAAC;AACJ,IAAA,eAAe,EAAE,2BAAW;AACxB,UAAI,MAAK,GAAI,KAAK,MAAlB;AACA,UAAI,IAAG,GAAI,KAAK,IAAhB;AACA,UAAI,SAAQ,GAAI,sCAAhB;;AACA,UAAI,SAAS,CAAC,IAAV,CAAe,IAAf,MAAyB,IAA7B,EACC;AACG,YAAI,OAAM,GAAI;AACV,UAAA,MAAM,EAAE,MADE;AAEV,UAAA,IAAI,EAAE;AAFI,SAAd;AAIA,QAAA,OAAO,CAAC,GAAR,CAAY,OAAZ;AACA,YAAM,KAAI,GAAI;AACV,UAAA,MAAM,EAAE,MADE;AAEV,UAAA,OAAO,EAAE;AACL,4BAAgB;AADX,WAFC;AAKV,UAAA,IAAI,EAAE,IAAI,CAAC,SAAL,CAAe;AAAE,YAAA,OAAM,EAAN;AAAF,WAAf,CALI;AAMV,UAAA,IAAI,EAAE,MANI;AAOV,UAAA,KAAK,EAAE;AAPG,SAAd;AASJ,QAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACA,QAAA,KAAK,CAAC,iCAAD,EAAoC,KAApC,CAAL,CACC,IADD,CACM,UAAA,QAAO,EAAK;AACd,UAAA,OAAO,CAAC,GAAR,CAAY,QAAZ;AACA;AACH,SAJD,EAKC,KALD,CAKO,UAAA,KAAI;AAAA,iBAAK,KAAK,CAAC,cAAc,KAAf,CAAV;AAAA,SALX;AAMA;AACH,KA7BG;AA8BJ,IAAA,QA9BI,sBA8BM;AAAA;;AACN,MAAA,KAAI,CACC,GADL,CACU,kCADV,EAEK,IAFL,CAEW,UAAA,QAAO,EAAK;AACf,QAAA,KAAI,CAAC,IAAL,GAAY,QAAQ,CAAC,IAAT,CAAc,KAA1B;AACH,OAJL,EAKK,KALL,CAKW,UAAA,KAAI,EAAK;AACZ,QAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACA,QAAA,KAAI,CAAC,OAAL,GAAe,IAAf;AACH,OARL,EASK,OATL,CASa;AAAA,eAAM,KAAI,CAAC,OAAL,GAAe,KAArB;AAAA,OATb;AAUJ;AAzCI;AAVG,CAAf","sourcesContent":["<template>\r\n   <div class=\"form-row flex-column justify-content-center m-0 p-0\">  \r\n        <ul class=\"nav nav-fill\">\r\n            <li class=\"nav-item h-50 bg-secondary\">\r\n                <router-link class=\"nav-link pl-4 p-1 col-1 text-white font-weight-bold\" to=\"/forum\">\r\n                    <i class=\"fas fa-angle-left\"></i>\r\n                </router-link>\r\n            </li>   \r\n            <li class=\"nav-item h-50 bg-secondary\">\r\n                <router-link class=\"nav-link p-1 text-white font-weight-bold\" to=\"/forum-texte\">Forum texte</router-link>\r\n            </li>\r\n            <li class=\"nav-item h-50 bg-secondary\">\r\n                <router-link class=\"nav-link p-1 text-white font-weight-bold\" to=\"/forum-multimedia\">Forum Multimédia</router-link> \r\n            </li>\r\n        </ul>  \r\n        <view-routeur></view-routeur>\r\n        <h1 class=\"text-center text-white\">Forum Texte</h1>\r\n        <div class=\"border border-white rounded\">\r\n            <form id=\"forum\" @submit.prevent=\"submitFormForum\" class=\"row justify-content-center was-validated needs-validation\" novalidate>\r\n                <div class=\"form-group col-11 col-md-10 m-0 p-1\">\r\n                    <label for=\"post\" class=\"col-auto col-form-label col-form-label-sm\"></label> \r\n                    <textarea name=\"post\" id=\"post\" class=\"form-control form-control-lg\" placeholder=\"Veuillez saisir un nouveau post\" v-model=\"post\" pattern=\"[A-Za-z\\s\\-éöàäèüáúóêûîôâ']{2,1500}\" required></textarea>\r\n                    <div class=\"valid-feedback\">Valide</div>\r\n                    <div class=\"invalid-feedback\"></div>\r\n                </div>\r\n                <div class=\"form-group col-6 col-md-7 col-lg-9 col-xl-11 mb-2 text-center\">\r\n                    <button type=\"submit\" :click=\"submitFormForum\" class=\"btn btn-primary btn-lg col-12 col-md-5 mt-3 mb-2\">Poster</button>\r\n                </div>            \r\n            </form>\r\n        </div>\r\n        <div>\r\n            <section v-if=\"errored\">\r\n                <p>Nous sommes désolés, nous ne sommes pas en mesure de récupérer ces informations pour le moment. Veuillez réessayer ultérieurement.</p>\r\n            </section>\r\n            <section v-else>\r\n                <div v-if=\"loading\">Chargement...</div>\r\n                <div v-else v-for-key=\"forums\" class=\"forums\">\r\n                    {{ forum.description }}\r\n\r\n                </div>\r\n            </section>\r\n        </div>    \r\n        \r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n    name: 'forum',\r\n    data(){\r\n        return {\r\n            pseudo:'',\r\n            info: null,\r\n            loading: true,\r\n            errored: false            \r\n        }\r\n    },\r\n    methods:{        \r\n        submitFormForum: function (){\r\n            let pseudo = this.pseudo;\r\n            let post = this.post;\r\n            let regexPost = /[A-Za-z\\s\\-éöàäèüáúóêûîôâ']{2,1500}/g;\r\n            if((regexPost.test(post) === true)\r\n            ){\r\n                let message = {\r\n                    pseudo: pseudo,\r\n                    post: post\r\n                }\r\n                console.log(message);\r\n                const envoi = {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    },\r\n                    body: JSON.stringify({ message }),\r\n                    mode: 'cors',\r\n                    cache: 'default'\r\n                }\r\n            console.log(envoi);\r\n            fetch(\"http://localhost:3000/api/forum\", envoi)\r\n            .then(response => {\r\n                console.log(response);\r\n                /*location.replace('http://localhost:8080/forum-texte')*/\r\n            })            \r\n            .catch(error => alert(\"Erreur : \" + error));\r\n            }\r\n        },\r\n        getPosts(){\r\n            axios\r\n                .get (\"http://localhost:3000/api/forum/\")\r\n                .then( response => {\r\n                    this.info = response.data.forum\r\n                })                \r\n                .catch(error => {\r\n                    console.log(error)\r\n                    this.errored = true\r\n                })\r\n                .finally(() => this.loaging = false)\r\n        }        \r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"],"sourceRoot":""}]}