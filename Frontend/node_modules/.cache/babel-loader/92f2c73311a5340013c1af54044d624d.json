{"remainingRequest":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\src\\views\\Login.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\src\\views\\Login.vue","mtime":1617612955857},{"path":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2xvZ2luJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcHNldWRvOiAnJywKICAgICAgcGFzc3dvcmQ6ICcnCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc3VibWl0Rm9ybUxvZ2luOiBmdW5jdGlvbiBzdWJtaXRGb3JtTG9naW4oKSB7CiAgICAgIHZhciBwc2V1ZG8gPSB0aGlzLnBzZXVkbzsKICAgICAgdmFyIHBhc3N3b3JkID0gdGhpcy5wYXNzd29yZDsKCiAgICAgIGlmIChwc2V1ZG8gPT09ICIiICYmIHBhc3N3b3JkID09PSAiIikgewogICAgICAgIGFsZXJ0KCJWZXVpbGxleiBzJ2lsIHZvdXMgcGxhw650LCBpbmRpcXVlciB2b3RyZSBlbWFpbCBldCB2b3RyZSBtb3QgZGUgcGFzc2UgdmFsaWRlICEgIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGxvZ2luID0gewogICAgICAgICAgcHNldWRvOiBwc2V1ZG8sCiAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQKICAgICAgICB9OwogICAgICAgIGNvbnNvbGUubG9nKGxvZ2luKTsKICAgICAgICB2YXIgZW52b2kgPSB7CiAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgICAgfSwKICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICAgbG9naW46IGxvZ2luCiAgICAgICAgICB9KSwKICAgICAgICAgIG1vZGU6ICdjb3JzJywKICAgICAgICAgIGNhY2hlOiAnZGVmYXVsdCcKICAgICAgICB9OwogICAgICAgIGNvbnNvbGUubG9nKGVudm9pKTsKICAgICAgICBmZXRjaCgiaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2VyL2xvZ2luIiwgZW52b2kpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShwc2V1ZG8pOwogICAgICAgICAgbG9jYXRpb24ucmVwbGFjZSgnaHR0cDovL2xvY2FsaG9zdDo4MDgwL2ZvcnVtJyk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICByZXR1cm4gYWxlcnQoIkVycmV1ciA6ICIgKyBlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\src\\views\\Login.vue"],"names":[],"mappings":";;;AA2BA,eAAgB;AACZ,EAAA,IAAI,EAAE,OADM;AAEZ,EAAA,IAFY,kBAEN;AACF,WAAO;AACH,MAAA,MAAM,EAAE,EADL;AAEH,MAAA,QAAQ,EAAE;AAFP,KAAP;AAIH,GAPW;AAQZ,EAAA,OAAO,EAAC;AACJ,IAAA,eAAe,EAAE,2BAAW;AACxB,UAAI,MAAK,GAAI,KAAK,MAAlB;AACA,UAAI,QAAO,GAAI,KAAK,QAApB;;AACA,UAAI,MAAK,KAAM,EAAZ,IACK,QAAO,KAAM,EADrB,EAEC;AACG,QAAA,KAAI,CAAG,gFAAH,CAAJ;AACJ,OAJA,MAIM;AACF,YAAI,KAAI,GAAI;AACR,UAAA,MAAM,EAAE,MADA;AAER,UAAA,QAAQ,EAAE;AAFF,SAAZ;AAIA,QAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACA,YAAM,KAAI,GAAI;AACV,UAAA,MAAM,EAAE,MADE;AAEV,UAAA,OAAO,EAAE;AACL,4BAAgB;AADX,WAFC;AAKV,UAAA,IAAG,EAAI,IAAI,CAAC,SAAL,CAAe;AAAE,YAAA,KAAI,EAAJ;AAAF,WAAf,CALG;AAMV,UAAA,IAAI,EAAE,MANI;AAOV,UAAA,KAAK,EAAE;AAPG,SAAd;AASA,QAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACA,QAAA,KAAK,CAAC,sCAAD,EAAyC,KAAzC,CAAL,CACC,IADD,CACM,UAAA,QAAO,EAAK;AACd,UAAA,OAAO,CAAC,GAAR,CAAY,QAAZ;AACA,UAAA,YAAY,CAAC,OAAb,CAAqB,MAArB;AACA,UAAA,QAAQ,CAAC,OAAT,CAAiB,6BAAjB;AACH,SALD,EAMC,KAND,CAMO,UAAA,KAAI;AAAA,iBAAK,KAAK,CAAC,cAAc,KAAf,CAAV;AAAA,SANX;AAOJ;AACJ;AAhCI;AARI,CAAhB","sourcesContent":["<template>\r\n    <div class=\"login form-row rounded bg-transparent shadow justify-content-center\">\r\n        <form id=\"login\" @submit=\"submitFormLogin\" class=\"row justify-content-center was-validated needs-validation\" novalidate>\r\n            <div class=\"form-group col-9 col-md-10 mb-0 pr-2 pl-2\">\r\n                <label for=\"pseudo\"></label> \r\n                <input type=\"text\" name=\"pseudo\" id=\"pseudo\" class=\"form-control form-control-lg\" placeholder=\"Pseudonyme\" v-model=\"pseudo\" pattern=\"[A-Za-z\\s\\-éöàäèüáúóêûîôâ']{2,10}\" required>\r\n                <div class=\"valid-feedback\">Valide</div>\r\n                <div class=\"invalid-feedback\">Veuillez saisir un pseudo</div>\r\n            </div>\r\n            <div class=\"form-group col-9 col-md-10 mb-0 pr-2 pl-2\">\r\n                 <label for=\"password\"></label> \r\n                <input type=\"password\" name=\"password\" id=\"password\" class=\"form-control form-control-lg\" placeholder=\"Mot de passe\" v-model=\"password\" pattern=\"^(?=.*[A-Z])(?=.*[a-z])(?=.*\\d)(?=.*[-+!*$@%_])([-+!*$@%_\\w]{8,15})$\" required>\r\n                <div class=\"valid-feedback\">Valide</div>\r\n                <div class=\"invalid-feedback\">Veuillez saisir votre mot de passe</div>\r\n            </div>\r\n            <div class=\"form-group col-12 text-center m-2\">\r\n                <button type=\"submit\" :click=\"submitFormLogin\" class=\"btn btn-primary btn-lg mt-3 mb-2\">Se connecter</button>\r\n            </div>\r\n            <p class=\"inscription text-center text-white col-9 mb-4\">\r\n                Vous n'avez pas encore de compte, <router-link to=\"/signup\">inscrivez-vous</router-link>.\r\n            </p>\r\n        </form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default ({\r\n    name: 'login',\r\n    data(){\r\n        return {\r\n            pseudo: '',\r\n            password: ''\r\n        }\r\n    },\r\n    methods:{\r\n        submitFormLogin: function (){\r\n            let pseudo = this.pseudo;\r\n            let password = this.password;\r\n            if((pseudo === \"\") \r\n                && (password === \"\")\r\n            ){\r\n                alert (\"Veuillez s'il vous plaît, indiquer votre email et votre mot de passe valide ! \")\r\n            } else{\r\n                let login = {\r\n                    pseudo: pseudo, \r\n                    password: password\r\n                };\r\n                console.log(login);\r\n                const envoi = {\r\n                    method: 'POST', \r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    },\r\n                    body : JSON.stringify({ login }),\r\n                    mode: 'cors',\r\n                    cache: 'default'\r\n                };\r\n                console.log(envoi);\r\n                fetch(\"http://localhost:3000/api/user/login\", envoi)\r\n                .then(response => {\r\n                    console.log(response);\r\n                    localStorage.setItem(pseudo);\r\n                    location.replace('http://localhost:8080/forum')\r\n                })                                                                \r\n                .catch(error => alert(\"Erreur : \" + error));\r\n            }\r\n        }\r\n    }\r\n})\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@media screen and (min-width: 768px) and (max-width: 2500px) {\r\n    .login{\r\n        height: 600px;        \r\n    }\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}