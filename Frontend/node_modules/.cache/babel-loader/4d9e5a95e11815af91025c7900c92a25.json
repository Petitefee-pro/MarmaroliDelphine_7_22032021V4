{"remainingRequest":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\src\\views\\Signup.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\src\\views\\Signup.vue","mtime":1617623772615},{"path":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3NpZ251cCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlkZW50aWZpYW50OiAnJywKICAgICAgcHNldWRvOiAnJywKICAgICAgZW1haWw6ICcnLAogICAgICBwYXNzd29yZDogJycKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWJtaXRGb3JtU2lnbnVwOiBmdW5jdGlvbiBzdWJtaXRGb3JtU2lnbnVwKCkgewogICAgICAvL1bDqXJpZmljYXRpb24gcGFyIHJlZ2V4IGR1IGZvcm11bGFpcmUgZCdpbnNjcmlwdGlvbgogICAgICB2YXIgaWRlbnRpZmlhbnQgPSB0aGlzLmlkZW50aWZpYW50OwogICAgICB2YXIgcmVnZXhJZGVudGlmaWFudCA9IC9bMC05XXs0fS9nOwogICAgICB2YXIgcHNldWRvID0gdGhpcy5wc2V1ZG87CiAgICAgIHZhciByZWdleFBzZXVkbyA9IC9bQS1aYS16XHNcLcOpw7bDoMOkw6jDvMOhw7rDs8Oqw7vDrsO0w6InXXsyLDEwfS9nOwogICAgICB2YXIgZW1haWwgPSB0aGlzLmVtYWlsOwogICAgICB2YXIgcmVnZXhFbWFpbCA9IC9bYS16MC05Ll8lKy1dK0BbYS16MC05Li1dK1wuW2Etel17Mix9JC9nOwogICAgICB2YXIgcGFzc3dvcmQgPSB0aGlzLnBhc3N3b3JkOwogICAgICB2YXIgcmVnZXhQYXNzd29yZCA9IC9eKD89LipbQS1aXSkoPz0uKlthLXpdKSg/PS4qXGQpKD89LipbLSshKiRAJV9dKShbLSshKiRAJV9cd117OCwxNX0pJC9nOwoKICAgICAgaWYgKHJlZ2V4SWRlbnRpZmlhbnQudGVzdChpZGVudGlmaWFudCkgPT09IHRydWUgJiYgcmVnZXhQc2V1ZG8udGVzdChwc2V1ZG8pID09PSB0cnVlICYmIHJlZ2V4RW1haWwudGVzdChlbWFpbCkgPT09IHRydWUgJiYgcmVnZXhQYXNzd29yZC50ZXN0KHBhc3N3b3JkKSA9PT0gdHJ1ZSkgewogICAgICAgIHZhciBwcm9maWwgPSB7CiAgICAgICAgICBpZGVudGlmaWFudDogaWRlbnRpZmlhbnQsCiAgICAgICAgICBwc2V1ZG86IHBzZXVkbywKICAgICAgICAgIGVtYWlsOiBlbWFpbCwKICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZAogICAgICAgIH07IC8vRW52b2kgZHUgZm9ybXVsYWlyZSBkJ2luc2NyaXB0aW9uCgogICAgICAgIHZhciBlbnZvaSA9IHsKICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgICAgICB9LAogICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocHJvZmlsKSwKICAgICAgICAgIG1vZGU6ICdjb3JzJywKICAgICAgICAgIGNhY2hlOiAnZGVmYXVsdCcKICAgICAgICB9OwogICAgICAgIGNvbnNvbGUubG9nKGVudm9pKTsKICAgICAgICBmZXRjaCgiaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2VyL3NpZ251cCIsIGVudm9pKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3BzZXVkbycsIEpTT04uc3RyaW5naWZ5KHBzZXVkbykpOwogICAgICAgICAgbG9jYXRpb24ucmVwbGFjZSgnaHR0cDovL2xvY2FsaG9zdDo4MDgwL2ZvcnVtJyk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICByZXR1cm4gYWxlcnQoIkVycmV1ciA6ICIgKyBlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYWxlcnQoIlZldWlsbGV6IHbDqXJpZmllciB2b3MgaW5mb3JtYXRpb25zLCBsZSBmb3JtdWxhaXJlIGQnaW5zY3JpcHRpb24gbidlc3QgcGFzIHZhbGlkZS4iKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["C:\\Users\\Delphine-Boulot\\Documents\\Formation WD\\Projet 7 OpenClassrooms\\Groupomania\\frontend\\src\\views\\Signup.vue"],"names":[],"mappings":";;;AAoCA,eAAgB;AACZ,EAAA,IAAI,EAAE,QADM;AAEZ,EAAA,IAFY,kBAEN;AACF,WAAO;AACH,MAAA,WAAW,EAAE,EADV;AAEH,MAAA,MAAM,EAAE,EAFL;AAGH,MAAA,KAAK,EAAE,EAHJ;AAIH,MAAA,QAAQ,EAAE;AAJP,KAAP;AAMH,GATW;AAUZ,EAAA,OAAO,EAAC;AACJ,IAAA,gBAAgB,EAAE,4BAAW;AAEzB;AACA,UAAI,WAAU,GAAI,KAAK,WAAvB;AACA,UAAI,gBAAe,GAAI,WAAvB;AACA,UAAI,MAAK,GAAI,KAAK,MAAlB;AACA,UAAI,WAAU,GAAI,oCAAlB;AACA,UAAI,KAAI,GAAI,KAAK,KAAjB;AACA,UAAI,UAAS,GAAI,yCAAjB;AACA,UAAI,QAAO,GAAI,KAAK,QAApB;AACA,UAAI,aAAY,GAAI,uEAApB;;AACA,UAAI,gBAAgB,CAAC,IAAjB,CAAsB,WAAtB,MAAuC,IAAxC,IACK,WAAW,CAAC,IAAZ,CAAiB,MAAjB,MAA6B,IADlC,IAEK,UAAU,CAAC,IAAX,CAAgB,KAAhB,MAA2B,IAFhC,IAGK,aAAa,CAAC,IAAd,CAAmB,QAAnB,MAAiC,IAHzC,EAIC;AACG,YAAI,MAAK,GAAI;AACT,UAAA,WAAW,EAAE,WADJ;AAET,UAAA,MAAM,EAAE,MAFC;AAGT,UAAA,KAAK,EAAE,KAHE;AAIT,UAAA,QAAQ,EAAE;AAJD,SAAb,CADH,CAQG;;AACA,YAAM,KAAI,GAAI;AACV,UAAA,MAAM,EAAE,MADE;AAEV,UAAA,OAAO,EAAE;AACL,4BAAgB;AADX,WAFC;AAKV,UAAA,IAAI,EAAE,IAAI,CAAC,SAAL,CAAgB,MAAhB,CALI;AAMV,UAAA,IAAI,EAAE,MANI;AAOV,UAAA,KAAK,EAAE;AAPG,SAAd;AASA,QAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACA,QAAA,KAAK,CAAC,uCAAD,EAA0C,KAA1C,CAAL,CACC,IADD,CACM,UAAA,QAAO,EAAK;AACd,UAAA,OAAO,CAAC,GAAR,CAAY,QAAZ;AACA,UAAA,YAAY,CAAC,OAAb,CAAqB,QAArB,EAA+B,IAAI,CAAC,SAAL,CAAe,MAAf,CAA/B;AACA,UAAA,QAAQ,CAAC,OAAT,CAAiB,6BAAjB;AACH,SALD,EAMC,KAND,CAMO,UAAA,KAAI;AAAA,iBAAK,KAAK,CAAC,cAAc,KAAf,CAAV;AAAA,SANX;AAOJ,OA9BA,MA8BM;AACF,QAAA,KAAK,CAAC,mFAAD,CAAL;AACJ;AACJ;AA7CI;AAVI,CAAhB","sourcesContent":["<template>\r\n    <div class=\"form-row rounded bg-transparent shadow justify-content-center m-0 pb-0\">    \r\n        <form id=\"signup\" @submit.prevent=\"submitFormSignup\" class=\"row justify-content-center was-validated needs-validation\" novalidate>\r\n            <div class=\"form-group col-10 col-md-10 m-0 p-0\">\r\n                <label for=\"identifiant\"></label> \r\n                <input type=\"text\" name=\"identifiant\" id=\"identifiant\" class=\"form-control form-control-lg\" placeholder=\"Identifiant\" v-model=\"identifiant\" pattern=\"[0-9]{4}\" required>\r\n                <div class=\"valid-feedback\">Valide</div>\r\n                <div class=\"invalid-feedback\">Veuillez saisir votre identifiant de salarié</div>\r\n            </div>\r\n            <div class=\"form-group col-10 col-md-10 m-0 p-0\">\r\n                <label for=\"pseudo\"></label> \r\n                <input type=\"text\" name=\"pseudo\" id=\"pseudo\" class=\"form-control form-control-lg\" placeholder=\"Pseudonyme\" v-model=\"pseudo\" pattern=\"[A-Za-z\\s\\-éöàäèüáúóêûîôâ']{2,10}\" required>\r\n                <div class=\"valid-feedback\">Valide</div>\r\n                <div class=\"invalid-feedback\">Veuillez saisir un pseudonyme</div>\r\n            </div>\r\n            <div class=\"form-group col-10 col-md-10 m-0 p-0\">\r\n                <label for=\"email\"></label> \r\n                <input type=\"email\" name=\"email\" id=\"email\" class=\"form-control form-control-lg\" placeholder=\"Email\" v-model=\"email\" pattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$\" required>\r\n                <div class=\"valid-feedback\">Valide</div>\r\n                <div class=\"invalid-feedback\">Veuillez saisir un email</div>\r\n            </div>\r\n            <div class=\"form-group col-10 col-md-10 m-0 p-0\">\r\n                <label for=\"password\"></label> \r\n                <input type=\"password\" name=\"password\" id=\"password\" class=\"form-control form-control-lg\" placeholder=\"Mot de passe\" v-model=\"password\" pattern=\"^(?=.*[A-Z])(?=.*[a-z])(?=.*\\d)(?=.*[-+!*$@%_])([-+!*$@%_\\w]{8,15})$\" required>\r\n                <div class=\"valid-feedback\">Valide</div>\r\n                <div class=\"invalid-feedback\">Veuillez saisir un mot de passe fort contenant entre 8 et 15 caractères avec au moins, 1 lettre minuscule, 1 lettre majuscule, 1 chiffre et 1 caractère spécial</div>\r\n            </div>\r\n            <div class=\"form-group col-6 col-md-7 col-lg-9 col-xl-11 mb-4 text-center\">\r\n                <button type=\"submit\" :click=\"submitFormSignup\" class=\"btn btn-primary btn-lg col-12 col-md-5 mt-3 mb-2\">S'inscrire</button>\r\n            </div>            \r\n        </form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default ({\r\n    name: 'signup',\r\n    data(){\r\n        return {\r\n            identifiant: '',\r\n            pseudo: '',\r\n            email: '',\r\n            password: ''\r\n        }\r\n    },\r\n    methods:{\r\n        submitFormSignup: function (){\r\n\r\n            //Vérification par regex du formulaire d'inscription\r\n            let identifiant = this.identifiant;\r\n            let regexIdentifiant = /[0-9]{4}/g;\r\n            let pseudo = this.pseudo;\r\n            let regexPseudo = /[A-Za-z\\s\\-éöàäèüáúóêûîôâ']{2,10}/g;\r\n            let email = this.email;\r\n            let regexEmail = /[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$/g;\r\n            let password = this.password;\r\n            let regexPassword = /^(?=.*[A-Z])(?=.*[a-z])(?=.*\\d)(?=.*[-+!*$@%_])([-+!*$@%_\\w]{8,15})$/g;\r\n            if((regexIdentifiant.test(identifiant) === true)\r\n                && (regexPseudo.test(pseudo) === true)\r\n                && (regexEmail.test(email) === true)\r\n                && (regexPassword.test(password) === true)\r\n            ){\r\n                let profil = {\r\n                    identifiant: identifiant,\r\n                    pseudo: pseudo,\r\n                    email: email,\r\n                    password: password\r\n                };\r\n\r\n                //Envoi du formulaire d'inscription\r\n                const envoi = {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    },\r\n                    body: JSON.stringify( profil ),\r\n                    mode: 'cors',\r\n                    cache: 'default'\r\n                };\r\n                console.log(envoi);\r\n                fetch(\"http://localhost:3000/api/user/signup\", envoi)\r\n                .then(response => {\r\n                    console.log(response);\r\n                    localStorage.setItem('pseudo', JSON.stringify(pseudo));\r\n                    location.replace('http://localhost:8080/forum')\r\n                })  \r\n                .catch(error => alert(\"Erreur : \" + error));\r\n            } else{\r\n                alert(\"Veuillez vérifier vos informations, le formulaire d'inscription n'est pas valide.\")\r\n            }\r\n        }\r\n        \r\n    },\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.valid-feedback{\r\n    color: #56FE7F;\r\n}\r\n.invalid-feedback{\r\n    color: #FAD8D8;\r\n}\r\n\r\n</style>\r\n"],"sourceRoot":""}]}